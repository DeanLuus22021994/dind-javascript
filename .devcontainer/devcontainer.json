{
	"name": "Docker in Docker Enhanced",
	"dockerComposeFile": "docker-compose.yml",
	"service": "devcontainer",
	"workspaceFolder": "/workspace",
	"shutdownAction": "none",
	"privileged": true,
	"features": {
		"ghcr.io/devcontainers/features/docker-in-docker:2": {
			"version": "latest",
			"enableNonRootDocker": "true",
			"moby": "true",
			"dockerDashComposeVersion": "v2"
		},
		"ghcr.io/devcontainers/features/nvidia-cuda:1": {},
		"ghcr.io/devcontainers/features/node:1": {
			"nodeGypDependencies": true,
			"version": "lts"
		}
	},
	"customizations": {
		"vscode": {
			"extensions": [
				"ms-vscode-remote.remote-containers",
				"ms-azuretools.vscode-docker"
			]
		}
	},
	"mounts": [
		"source=dind-buildkit-cache,target=/cache/buildkit,type=volume",
		"source=dind-docker-cache,target=/cache/docker,type=volume",
		"source=dind-npm-cache,target=/cache/npm,type=volume",
		"source=dind-node-modules,target=/workspace/node_modules,type=volume"
	],
	"postCreateCommand": "bash .devcontainer/setup.sh",
	"postStartCommand": "bash .devcontainer/post-start.sh"
}